---
// Feature List Section
// ------------
// Description: A list of features with icons and descriptions in a 4 column layout.

// Components
// - Layout
import Section from '../../ui/Section.astro'
import Row from '../../ui/Row.astro'
import Col from '../../ui/Col.astro'
// - UI
import Feature from '../../ui/Feature.astro'

// Data
import features from '../../../data/json-files/featuresData.json'

import Card from '../../ui/cards/FeatureCard.astro'

import Badge from '../../ui/Badge.astro'

import Feature2 from '../../ui/Feature.astro'

import StickySidebar from '../basic/StickySidebar.astro'

import RappresentantiScuola from './SchedaRappresentanti.astro'

const tabs = [
	{
		id: 'venezia',
		label: 'Venezia',
		scuola: 'Collegio Internazionale Ca’ Foscari di Venezia',
		luogo: 'Venezia',
		data: [
			{ nome: 'Alessandro', cognome: 'Rossi', email: 'alessandro.rossi@venezia.it' },
			{ nome: 'Giulia', cognome: 'Bianchi', email: 'giulia.bianchi@venezia.it' }
		]
	},
	{
		id: 'pisa',
		label: 'Pisa (Normale)',
		scuola: 'Scuola Normale Superiore di Pisa',
		luogo: 'Pisa',
		data: [
			{ nome: 'Luca', cognome: 'Verdi', email: 'luca.verdi@pisa.it' },
			{ nome: 'Martina', cognome: 'Neri', email: 'martina.neri@pisa.it' }
		]
	},
	{
		id: 'pavia',
		label: 'Pavia',
		scuola: 'IUSS Scuola Universitaria Superiore di Pavia',
		luogo: 'Pavia',
		data: [
			{ nome: 'Francesco', cognome: 'Russo', email: 'francesco.russo@pavia.it' },
			{ nome: 'Sara', cognome: 'Ferrari', email: 'sara.ferrari@pavia.it' }
		]
	},
	{
		id: 'camerino',
		label: 'Camerino',
		scuola: 'Scuola di Studi Superiori Carlo Urbani di Camerino',
		luogo: 'Camerino',
		data: [
			{ nome: 'Paolo', cognome: 'Gallo', email: 'paolo.gallo@camerino.it' },
			{ nome: 'Elena', cognome: 'Romano', email: 'elena.romano@camerino.it' }
		]
	},
	{
		id: 'bologna',
		label: 'Bologna',
		scuola: 'Collegio Superiore di Bologna',
		luogo: 'Bologna',
		data: [
			{ nome: 'Simone', cognome: 'Costa', email: 'simone.costa@bologna.it' },
			{ nome: 'Chiara', cognome: 'Marini', email: 'chiara.marini@bologna.it' }
		]
	},
	{
		id: 'lecce',
		label: 'Lecce',
		scuola: 'Scuola superiore ISUFI di Lecce',
		luogo: 'Lecce',
		data: [
			{ nome: 'Davide', cognome: 'Greco', email: 'davide.greco@lecce.it' },
			{ nome: 'Valentina', cognome: 'Fontana', email: 'valentina.fontana@lecce.it' }
		]
	},
	{
		id: 'macerata',
		label: 'Macerata',
		scuola: "Scuola di Studi Superiori 'Giacomo Leopardi' di Macerata",
		luogo: 'Macerata',
		data: [
			{ nome: 'Giorgio', cognome: 'Sartori', email: 'giorgio.sartori@macerata.it' },
			{ nome: 'Alessia', cognome: 'Villa', email: 'alessia.villa@macerata.it' }
		]
	},
	{
		id: 'torino',
		label: 'Torino',
		scuola: 'Scuola di Studi Superiori Ferdinando Rossi di Torino',
		luogo: 'Torino',
		data: [
			{ nome: 'Matteo', cognome: 'Conti', email: 'matteo.conti@torino.it' },
			{ nome: 'Federica', cognome: 'De Luca', email: 'federica.deluca@torino.it' }
		]
	},
	{
		id: 'santanna',
		label: "Pisa (Sant'Anna)",
		scuola: 'Scuola Superiore Sant’Anna di Pisa',
		luogo: 'Pisa',
		data: [
			{ nome: 'Andrea', cognome: 'Barbieri', email: 'andrea.barbieri@santanna.it' },
			{ nome: 'Laura', cognome: 'Gentile', email: 'laura.gentile@santanna.it' }
		]
	},
	{
		id: 'padova',
		label: 'Padova',
		scuola: 'Scuola Galileiana di Studi Superiori di Padova',
		luogo: 'Padova',
		data: [
			{ nome: 'Stefano', cognome: 'Rinaldi', email: 'stefano.rinaldi@padova.it' },
			{ nome: 'Marta', cognome: 'Serra', email: 'marta.serra@padova.it' }
		]
	},
	{
		id: 'catania',
		label: 'Catania',
		scuola: 'Scuola Superiore di Catania',
		luogo: 'Catania',
		data: [
			{ nome: 'Fabio', cognome: 'Longo', email: 'fabio.longo@catania.it' },
			{ nome: 'Silvia', cognome: 'Testa', email: 'silvia.testa@catania.it' }
		]
	},
	{
		id: 'roma',
		label: 'Roma',
		scuola: 'Scuola di Studi Superiori della Sapienza',
		luogo: 'Roma',
		data: [
			{ nome: 'Riccardo', cognome: 'Ferri', email: 'riccardo.ferri@roma.it' },
			{ nome: 'Elisa', cognome: 'Moretti', email: 'elisa.moretti@roma.it' }
		]
	}
]
---

<Section id="features" classes="bg-neutral-50 dark:bg-neutral-900">
	<Row>
		<Col span="12" align="center" classes="mb-12 max-w-4xl mx-auto">
			<h2 class="text-pretty">I Rappresentanti</h2>
			<p class="pb-0 text-lg">
				Ogni scuola facente parte dell'associazione ha due rappresentanti con mandato di 1
				anno.
			</p>
		</Col>
	</Row>

	<Row>
		<Col span="12" align="center" classes="w-full p-0 m-0">
			<div class="mb-6">
				<!-- <label
					for="school-select"
					class="mb-2 block text-sm font-medium text-gray-700 dark:text-gray-300"
				>
					Seleziona la scuola
				</label> -->
				<select
					id="school-select"
					class="mx-auto block w-full max-w-xs rounded-lg border border-gray-300 p-2 dark:bg-gray-700 dark:text-gray-100"
				>
					{tabs.map((tab) => <option value={tab.id}>{tab.label}</option>)}
				</select>
			</div>
			<div id="dropdown-content" >
				{
					tabs.map((tab, i) => (
						<div
							id={`dropdown-panel-${tab.id}`}
							class={`dropdown-panel ${i === 0 ? '' : 'hidden'}`}
						>
							<RappresentantiScuola
								classes="bg-neutral-50 dark:bg-neutral-900 lg:mx-16"
								scuola={tab.scuola}
								luogo={tab.luogo}
								data={tab.data}
							/>
						</div>
					))
				}
			</div>
		</Col>
	</Row>
	<script>
		document.addEventListener('DOMContentLoaded', () => {
			const select = document.getElementById('school-select') as HTMLSelectElement
			const panels = document.querySelectorAll('.dropdown-panel')
			select.addEventListener('change', () => {
				const value = select.value
				panels.forEach((panel) => {
					if (panel.id === `dropdown-panel-${value}`) {
						panel.classList.remove('hidden')
					} else {
						panel.classList.add('hidden')
					}
				})
			})
		})
	</script>
</Section>
